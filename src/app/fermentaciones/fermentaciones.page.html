<ion-content>
    <ion-header style="--ion-background-color: rgba(255, 255, 255, 0.13); border: 2px solid rgba(255, 255, 255, 0.1);box-shadow: 0 0 40px rgba(8, 7, 16, 0.6);">
        <ion-toolbar style="color:white;">
            <ion-buttons slot="start">
                <ion-menu-button></ion-menu-button>
            </ion-buttons>
            <ion-title>
                Fermentaciones
            </ion-title>
        </ion-toolbar>
    </ion-header>
    <div class="content">

        <!-- boton add -->
        <ion-fab vertical="top" horizontal="end" slot="fixed" (click)="addProduct()" *ngIf="isDisplay">
            <ion-row>
                <ion-fab-button color="primary">
                    <ion-icon name="add-outline"></ion-icon>
                </ion-fab-button>
            </ion-row>
        </ion-fab>

        <!-- boton regresar -->
        <ion-fab vertical="top" horizontal="end" slot="fixed" (click)="back()" *ngIf="!isDisplay">
            <ion-row>
                <ion-fab-button color="danger">
                    <ion-icon name="arrow-back"></ion-icon>
                </ion-fab-button>
            </ion-row>
        </ion-fab>

        <ion-row>
            <ion-col size="1" size-sm="1" size-lg="1" size-xs="0">
            </ion-col>
            <ion-col size="10" size-sm="10" size-lg="10" size-xs="12">
                <div class="card" *ngIf="isDisplay">
                    <ion-card-header class="card-header card-header-success">
                        <ion-card-title class="card-title">Listado de Fermentaciones:</ion-card-title>
                    </ion-card-header>
                    <ion-card-content>
                        <ion-item style=" text-align: center;" class="text-success">
                            <ion-col size="1">
                                #
                            </ion-col>
                            <ion-col size="3">
                                Nombre
                            </ion-col>
                            <ion-col size="3">
                                Fecha de Inicio
                            </ion-col>
                            <ion-col size="3">
                                Estado
                            </ion-col>
                            <!-- <ion-col size="2">
                        Descripción
                    </ion-col> -->
                            <ion-col size="2">
                            </ion-col>
                        </ion-item>
                        <ion-list>
                            <ion-item style=" text-align: center;" *ngFor="let item of user;let i = index;">
                                <ion-col size="1">
                                    {{item.id}}
                                </ion-col>
                                <ion-col size="3">
                                    {{item.nombre}}
                                </ion-col>
                                <ion-col size="3">
                                    {{item.fecha_registro}}
                                </ion-col>
                                <ion-col size="3">
                                    <ion-icon *ngIf="item.activa==false" color="success" size="large" name="checkmark-circle-outline"></ion-icon>
                                    <ion-icon *ngIf="item.activa==true" color="primary" size="large" name="beaker"></ion-icon>
                                </ion-col>
                                <ion-col size="2">
                                    <ion-button color="light" (click)="revision(item.id)">
                                        <ion-icon name="stopwatch"></ion-icon>
                                    </ion-button>
                                    <ion-button color="warning" (click)="edit(item, i)">
                                        <ion-icon name="create-outline"></ion-icon>
                                    </ion-button>
                                    <ion-button color="danger" (click)="remove(item.id, i)">
                                        <ion-icon name="trash-outline"></ion-icon>
                                    </ion-button>
                                </ion-col>
                            </ion-item>
                        </ion-list>
                    </ion-card-content>
                </div>
            </ion-col>
        </ion-row>

        <ion-row>
            <ion-col size="1" size-sm="1" size-lg="1" size-xs="0">
            </ion-col>
            <ion-col size="10" size-sm="10" size-lg="10" size-xs="12">
                <div class="card" *ngIf="!isDisplay">
                    <ion-card-header class="card-header card-header-success">
                        <ion-card-title class="card-title">Guardar fermentación:</ion-card-title>
                    </ion-card-header>
                    <ion-card-content>
                        <ion-grid>
                            <ion-row>
                                <ion-col size-md="12" size-sm="12" size-lg="6" size-xs="12">
                                    <ion-item>
                                        <ion-label position="stacked" color="tertiary">Nombre</ion-label>
                                        <ion-input [(ngModel)]="post.nombre"></ion-input>
                                    </ion-item>
                                </ion-col>
                                <ion-col size-md="12" size-sm="12" size-lg="6" size-xs="12">
                                    <ion-item>
                                        <ion-label position="stacked" color="tertiary">Fermentacion Activa</ion-label>
                                        <ion-toggle [(ngModel)]="post.activa" enable-on-off-labels="true"></ion-toggle>
                                    </ion-item>
                                </ion-col>
                                <ion-col size-md="12" size-sm="12" size-lg="6" size-xs="12">
                                    <ion-item>
                                        <ion-label position="stacked" color="tertiary">Total en Libras del Lote</ion-label>
                                        <ion-input [(ngModel)]="post.peso_libras_nanolote" type="number" step="0.01"></ion-input>
                                    </ion-item>
                                </ion-col>
                                <ion-col size-md="12" size-sm="12" size-lg="6" size-xs="12">
                                    <ion-item>
                                        <ion-label position="stacked" color="tertiary">Descripción</ion-label>
                                        <ion-input [(ngModel)]="post.descripcion"></ion-input>
                                    </ion-item>
                                </ion-col>
                                <ion-col size-md="12" size-sm="12" size-lg="6" size-xs="12">
                                    <ion-item>
                                        <ion-label position="stacked" color="tertiary">Fecha Inicio Fermentación</ion-label>
                                        <ion-input [(ngModel)]="post.fecha_registro" type="date"></ion-input>
                                    </ion-item>
                                </ion-col>
                                <ion-col size-md="12" size-sm="12" size-lg="6" size-xs="12">
                                    <ion-item>
                                        <ion-label position="stacked" color="tertiary">Fecha Fin Fermentación</ion-label>
                                        <ion-input [(ngModel)]="post.fecha_fin" type="date"></ion-input>
                                    </ion-item>
                                </ion-col>
                                <ion-col size-md="12" size-sm="12" size-lg="6" size-xs="12">
                                    <ion-item>
                                        <ion-label position="stacked" color="tertiary">Nano-lote</ion-label>
                                        <ion-select [(ngModel)]="post.id_nano_lote">
                                            <ion-select-option *ngFor="let item of nanolote" [value]="item.id">{{item.nombre}}</ion-select-option>
                                        </ion-select>
                                    </ion-item>
                                </ion-col>
                                <ion-col size-md="12" size-sm="12" size-lg="6" size-xs="12">
                                    <ion-item>
                                        <ion-label position="stacked" color="tertiary">Tipo de fermentación</ion-label>
                                        <ion-select [(ngModel)]="post.id_tipo_fermentacion">
                                            <ion-select-option *ngFor="let item of fermentacion" [value]="item.id">{{item.nombre}}</ion-select-option>
                                        </ion-select>
                                    </ion-item>
                                </ion-col>
                                <ion-col size-md="12" size-sm="12" size-lg="6" size-xs="12">
                                    <ion-item>
                                        <ion-label position="stacked" color="tertiary">Ph Inicial</ion-label>
                                        <ion-input [(ngModel)]="post.ph_inicial" type="number" step="0.01"></ion-input>
                                    </ion-item>
                                </ion-col>
                                <ion-col size-md="12" size-sm="12" size-lg="6" size-xs="12">
                                    <ion-item>
                                        <ion-label position="stacked" color="tertiary">Grado Brix Inicial</ion-label>
                                        <ion-input [(ngModel)]="post.nivel_azucar_inicial" type="number" step="0.01"></ion-input>
                                    </ion-item>
                                </ion-col>
                                <ion-col size="12">
                                    <ion-button expand="block" (click)="onSubmit()">Guardar</ion-button>
                                </ion-col>
                            </ion-row>
                        </ion-grid>
                    </ion-card-content>
                </div>
            </ion-col>
        </ion-row>
    </div>
</ion-content>